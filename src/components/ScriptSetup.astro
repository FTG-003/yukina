---

---

<script>
  import lozad from "lozad";
  import { OverlayScrollbars } from "overlayscrollbars";

  // setup post url
  const setupUrlAnchor = () => {
    const url = window.location.href;
    const urlElement = document.getElementById("post-url") as HTMLAnchorElement;
    if (urlElement) {
      urlElement.href = url;
      urlElement.innerText = url;
    }
  };

  // setup lazy load for images
  const setupLozad = () => {
    const observer = lozad(".lozad", {
      loaded: (el) => {
        el.classList.add("loaded");
      },
    });

    observer.observe();
  };

  // add global scroll bar
  const setupScrollBar = () => {
    OverlayScrollbars(
      { target: document.body, cancel: { nativeScrollbarsOverlaid: true } },
      {
        scrollbars: {
          theme: "scrollbar-base scrollbar-auto py-1",
          autoHide: "move",
        },
      },
    );
    document.body.classList.remove("overflow-y-hidden");

    // add scrollbar for code blocks
    document.querySelectorAll("pre").forEach((ele) => {
      OverlayScrollbars(ele, {
        scrollbars: {
          theme: "scrollbar-base scrollbar-dark px-2",
          autoHide: "leave",
          autoHideDelay: 500,
          autoHideSuspend: false,
        },
      });
    });
  };

  // init
  const setup = () => {
    setupUrlAnchor();
    setupLozad();
    setupScrollBar();
  };

  document.addEventListener("DOMContentLoaded", setup);
  if (window.swup?.hooks) {
    setup();
  } else {
    document.addEventListener("swup:enable", () => {
      window.swup.hooks.on("content:replace", setup);
    });
  }
</script>

<!--Start of Tawk.to Script-->
<!--
<script is:inline type="text/javascript">
  var Tawk_API = Tawk_API || {},
    Tawk_LoadStart = new Date();
  (function () {
    var s1 = document.createElement("script"),
      s0 = document.getElementsByTagName("script")[0];
    s1.async = true;
    s1.src = "https://embed.tawk.to/6891a94e6ec67e192b9200c1/1j1sfqn6f";
    s1.charset = "UTF-8";
    s1.setAttribute("crossorigin", "*");
    s0.parentNode.insertBefore(s1, s0);
  })();
</script>
-->
<!--End of Tawk.to Script-->

